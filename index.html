<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>$ per second counter</title>
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      display: grid;
      place-items: center;
      min-height: 100vh;
      background:
        linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)),
        url("./dodgerstadium.jpg") center / cover no-repeat fixed;
      background-attachment: fixed;
      overflow: hidden;
      position: relative;
      color: #e8eef6;
    }
    /* Decorative background layers */
    

    

    .card {
      width: min(720px, calc(100% - 32px));
      background: transparent;
      padding: 24px;
      text-align: center;
    }
    h1 {
      margin: 0 0 26px;
      font-size: clamp(32px, 5vw, 56px);
      font-weight: 900;
      color: #ffffff;
      line-height: 1.15;
    }
    .money {
      font-variant-numeric: tabular-nums;
      font-size: clamp(36px, 6vw, 64px);
      font-weight: 800;
      letter-spacing: -0.02em;
      margin: 10px 0 8px;
      line-height: 1.1;
      text-rendering: geometricPrecision;
    }
    .big-pair {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 18px;
      margin: 10px 0 8px;
    }

    .divider {
      width: 2px;
      height: clamp(48px, 6vw, 72px);
      background: #ffffff;
      opacity: 0.75;
      border-radius: 1px;
    }
    .meta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      color: #9fb2d6;
      font-size: 14px;
      margin-bottom: 18px;
      justify-content: center;
    }
    .pill {
      padding: 6px 10px;
      border-radius: 999px;
      background: #ffffff;
      color: #000000;
      border: none;
      font-weight: 600;
    }
    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      appearance: none;
      border: none;
      background: #ffffff;
      color: #000000;
      padding: 14px 26px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 18px;
      cursor: pointer;
      transition: transform .05s ease, opacity .15s ease;
    }
    button:hover {
      opacity: 0.85;
    }
    button:active { transform: translateY(1px); }

    .player-photo {
      margin-top: 32px;
      display: flex;
      justify-content: center;
    }

    .player-photo img {
      max-width: 380px;
      width: 100%;
      border-radius: 20px;
      box-shadow:
        0 18px 45px rgba(0,0,0,0.45),
        inset 0 0 0 1px rgba(255,255,255,0.15);
      filter: saturate(1.05) contrast(1.05);
    }
    .purchase-list {
      margin-top: 22px;
      display: flex;
      justify-content: center;
    }
    .afford-sentence {
      margin-top: 18px;
      font-size: 26px;
      font-weight: 700;
      color: rgba(255,255,255,0.95);
      font-variant-numeric: tabular-nums;
      min-width: 40ch;
      margin-left: auto;
      margin-right: auto;
    }

    .purchase-item {
      font-size: 26px;
      font-weight: 800;
      color: rgba(255,255,255,0.35);
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.6s ease, transform 0.6s ease, color 0.4s ease;
    }

    .purchase-item.afford {
      color: #ffffff;
    }

    .purchase-item.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Since your browser loaded this page, Kyle Tucker will have made this much money under his new contract (before taxes):</h1>

    <div class="big-pair">
      <div class="money" id="money">$0.00</div>
      <div class="divider"></div>
      <div class="money" id="bigTime">00:00:00</div>
    </div>

    <div class="meta">
      <div class="pill">Rate: <strong id="rateText"></strong></div>
    </div>

    <div class="row">
      <button id="pauseBtn">Pause</button>
      <button id="resetBtn" class="secondary">Reset</button>
    </div>
    <div class="player-photo">
      <img
        src="./tuck.webp"
        alt="Kyle Tucker, professional baseball player"
      />
    </div>
    <div class="afford-sentence" id="affordSentence">In the 0 seconds that you have been visiting this page, Kyle Tucker can now afford a:</div>
    <div class="purchase-list" id="purchaseList">
      <div class="purchase-item" data-price="0">$0 – A cup of water</div>
      <div class="purchase-item" data-price="5">$5 – Coffee</div>
      <div class="purchase-item" data-price="10">$10 – Stadium hot dog</div>
      <div class="purchase-item" data-price="20">$20 – Ball cap</div>
      <div class="purchase-item" data-price="35">$35 – Team t-shirt</div>
      <div class="purchase-item" data-price="50">$50 – Official baseball</div>
      <div class="purchase-item" data-price="75">$75 – Batting gloves</div>
      <div class="purchase-item" data-price="100">$100 – Premium jersey</div>
      <div class="purchase-item" data-price="150">$150 – Two game tickets</div>
      <div class="purchase-item" data-price="200">$200 – Authentic cap & jersey combo</div>
      <div class="purchase-item" data-price="275">$275 – Lower-bowl game ticket</div>
      <div class="purchase-item" data-price="350">$350 – Signed memorabilia</div>
      <div class="purchase-item" data-price="425">$425 – Weekend series tickets</div>
      <div class="purchase-item" data-price="500">$500 – Premium field-level experience</div>
    </div>
  </div>

  <script>
    // Dollars earned per second
    const RATE = 1.90258751902588;

    const moneyEl = document.getElementById("money");
    const rateTextEl = document.getElementById("rateText");
    const bigTimeEl = document.getElementById("bigTime");
    const pauseBtn = document.getElementById("pauseBtn");
    const resetBtn = document.getElementById("resetBtn");
    const purchaseItems = Array.from(document.querySelectorAll('.purchase-item'));
    const affordSentenceEl = document.getElementById('affordSentence');

    rateTextEl.textContent = `$${RATE.toLocaleString(undefined, { maximumFractionDigits: 14 })} / second`;

    // State
    let running = true;
    let startPerf = performance.now();   // when this run started
    let accumulatedMs = 0;               // time already earned before current run (for pause/resume)

    const moneyFormatter = new Intl.NumberFormat(undefined, {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2,
      maximumFractionDigits: 2,
    });

    function getElapsedMs() {
      return accumulatedMs + (running ? (performance.now() - startPerf) : 0);
    }

    function formatHMS(totalSeconds) {
      const secondsInt = Math.floor(totalSeconds);
      const hours = Math.floor(secondsInt / 3600);
      const minutes = Math.floor((secondsInt % 3600) / 60);
      const seconds = secondsInt % 60;

      const hh = String(hours).padStart(2, "0");
      const mm = String(minutes).padStart(2, "0");
      const ss = String(seconds).padStart(2, "0");
      return `${hh}:${mm}:${ss}`;
    }

    function tick() {
      const elapsedMs = getElapsedMs();
      const elapsedSeconds = elapsedMs / 1000;

      const secs = Math.floor(elapsedSeconds);
      const unit = secs === 1 ? 'second' : 'seconds';
      affordSentenceEl.textContent = `In the ${secs} ${unit} that you have been visiting this page, Kyle Tucker can now afford a:`;

      const earned = elapsedSeconds * RATE;

      moneyEl.textContent = moneyFormatter.format(earned);
      // Mark items as affordable
      purchaseItems.forEach(item => {
        const price = Number(item.dataset.price);
        if (earned >= price) item.classList.add('afford');
      });

      // Show only the "current" item: the most expensive one he can afford so far
      let currentIndex = 0;
      for (let i = 0; i < purchaseItems.length; i++) {
        const price = Number(purchaseItems[i].dataset.price);
        if (earned >= price) currentIndex = i;
      }

      purchaseItems.forEach((item, i) => {
        if (i === currentIndex) {
          item.style.display = 'block';
          requestAnimationFrame(() => item.classList.add('visible'));
        } else {
          item.classList.remove('visible');
          item.style.display = 'none';
        }
      });

      bigTimeEl.textContent = formatHMS(elapsedSeconds);

      requestAnimationFrame(tick);
    }

    pauseBtn.addEventListener("click", () => {
      if (running) {
        // Pause
        accumulatedMs += performance.now() - startPerf;
        running = false;
        pauseBtn.textContent = "Resume";
      } else {
        // Resume
        startPerf = performance.now();
        running = true;
        pauseBtn.textContent = "Pause";
      }
    });

    resetBtn.addEventListener("click", () => {
      accumulatedMs = 0;
      startPerf = performance.now();
      running = true;
      pauseBtn.textContent = "Pause";
      moneyEl.textContent = moneyFormatter.format(0);
      bigTimeEl.textContent = "00:00:00";
    });

    tick();
  </script>
</body>
</html>