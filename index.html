<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>$ per second counter</title>
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;

      /* Layout */
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: clamp(16px, 4vh, 64px) 16px;

      /* Background */
      background:
        linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)),
        url("./dodgerstadium.jpg") center / cover no-repeat fixed;
      background-attachment: fixed;

      /* Scrolling */
      overflow-x: hidden;
      overflow-y: auto;

      color: #e8eef6;
    }
    /* Decorative background layers */
    

    
    .selector-wrapper {
      margin-bottom: 28px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .selector-wrapper label {
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.75);
    }

    .selector-wrapper select {
      font-size: 22px;
      font-weight: 800;
      padding: 14px 32px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.18);
      backdrop-filter: blur(10px) saturate(1.2);
      -webkit-backdrop-filter: blur(10px) saturate(1.2);
      color: #ffffff;
      cursor: pointer;
      appearance: none;
      text-align: center;
      box-shadow:
        0 8px 20px rgba(0,0,0,0.25),
        inset 0 1px 0 rgba(255,255,255,0.25);
    }
    .selector-wrapper select:hover {
      background: rgba(255,255,255,0.28);
    }

    .card {
      width: min(1225px, calc(100% - 32px));
      background: transparent;
      padding: 24px;
      text-align: center;
      transform: scale(0.8);
      transform-origin: top center;
    }
    h1 {
      margin: 0 0 26px;
      font-size: clamp(32px, 5vw, 56px);
      font-weight: 900;
      color: #ffffff;
      line-height: 1.15;
    }
    .money {
      font-variant-numeric: tabular-nums;
      font-size: clamp(36px, 6vw, 64px);
      font-weight: 800;
      letter-spacing: -0.02em;
      margin: 10px 0 8px;
      line-height: 1.1;
      text-rendering: geometricPrecision;
    }
    .big-pair {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 18px;
      margin: 10px 0 8px;
    }

    .divider {
      width: 2px;
      height: clamp(48px, 6vw, 72px);
      background: #ffffff;
      opacity: 0.75;
      border-radius: 1px;
    }
    @media (max-width: 560px) {
      .big-pair {
        flex-direction: column;
        gap: 12px;
      }

      .divider {
        width: 70%;
        height: 2px;
      }
    }
    .meta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      color: #9fb2d6;
      font-size: 14px;
      margin-bottom: 18px;
      justify-content: center;
    }
    .pill {
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.18);
      backdrop-filter: blur(10px) saturate(1.2);
      -webkit-backdrop-filter: blur(10px) saturate(1.2);
      color: #ffffff;
      font-weight: 700;
      box-shadow:
        0 8px 20px rgba(0,0,0,0.25),
        inset 0 1px 0 rgba(255,255,255,0.25);
    }

    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      appearance: none;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.18);
      backdrop-filter: blur(10px) saturate(1.2);
      -webkit-backdrop-filter: blur(10px) saturate(1.2);
      color: #ffffff;
      padding: 14px 28px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 18px;
      cursor: pointer;
      box-shadow:
        0 8px 20px rgba(0,0,0,0.25),
        inset 0 1px 0 rgba(255,255,255,0.25);
      transition:
        background 0.25s ease,
        transform 0.1s ease,
        box-shadow 0.25s ease;
    }
    button:hover {
      background: rgba(255,255,255,0.28);
      box-shadow:
        0 12px 28px rgba(0,0,0,0.35),
        inset 0 1px 0 rgba(255,255,255,0.35);
    }
    button:active {
      transform: translateY(1px) scale(0.98);
      box-shadow:
        0 6px 16px rgba(0,0,0,0.35),
        inset 0 1px 0 rgba(255,255,255,0.2);
    }

    .player-photo {
      margin-top: 32px;
      display: flex;
      justify-content: center;
    }

    .player-photo img {
      max-width: 380px;
      width: 100%;
      border-radius: 20px;
      box-shadow:
        0 18px 45px rgba(0,0,0,0.45),
        inset 0 0 0 1px rgba(255,255,255,0.15);
      filter: saturate(1.05) contrast(1.05);
    }
    .purchase-list {
      margin-top: 22px;
      display: flex;
      justify-content: center;
    }
    .afford-sentence {
      margin-top: 18px;
      font-size: 26px;
      font-weight: 700;
      color: rgba(255,255,255,0.95);
      font-variant-numeric: tabular-nums;
      min-width: 40ch;
      margin-left: auto;
      margin-right: auto;
    }

    .purchase-item {
      font-size: 26px;
      font-weight: 800;
      color: rgba(255,255,255,0.35);
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.6s ease, transform 0.6s ease, color 0.4s ease;
    }

    .purchase-item.afford {
      color: #ffffff;
    }

    .purchase-item.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="selector-wrapper">
      <label for="athleteSelect">Select Athlete</label>
      <select id="athleteSelect">
        <option value="tucker">Kyle Tucker</option>
        <option value="bichette">Bo Bichette</option>
      </select>
    </div>
    <h1 id="headline"></h1>

    <div class="big-pair">
      <div class="money" id="money">$0.00</div>
      <div class="divider"></div>
      <div class="money" id="bigTime">00:00:00</div>
    </div>

    <div class="meta">
      <div class="pill">Rate: <strong id="rateText"></strong></div>
    </div>

    <div class="row">
      <button id="pauseBtn">Pause</button>
      <button id="resetBtn" class="secondary">Reset</button>
    </div>
    <div class="player-photo">
      <img
        id="playerPhoto"
        src="./tuck.webp"
        alt="Athlete photo"
      />
    </div>
    <div class="afford-sentence" id="affordSentence">In the 0 seconds that you have been visiting this page, Kyle Tucker can now afford a:</div>
    <div class="purchase-list" id="purchaseList">
      <div class="purchase-item" data-price="0">$0 – A cup of water</div>
      <div class="purchase-item" data-price="5">$5 – Coffee</div>
      <div class="purchase-item" data-price="10">$10 – Stadium hot dog</div>
      <div class="purchase-item" data-price="20">$20 – Ball cap</div>
      <div class="purchase-item" data-price="35">$35 – Team t-shirt</div>
      <div class="purchase-item" data-price="50">$50 – Official baseball</div>
      <div class="purchase-item" data-price="75">$75 – Batting gloves</div>
      <div class="purchase-item" data-price="100">$100 – Premium jersey</div>
      <div class="purchase-item" data-price="150">$150 – Two game tickets</div>
      <div class="purchase-item" data-price="200">$200 – Authentic cap & jersey combo</div>
      <div class="purchase-item" data-price="275">$275 – Lower-bowl game ticket</div>
      <div class="purchase-item" data-price="350">$350 – Signed memorabilia</div>
      <div class="purchase-item" data-price="425">$425 – Weekend series tickets</div>
      <div class="purchase-item" data-price="500">$500 – Premium field-level experience</div>
    </div>
  </div>

  <script>
    // Dollars earned per second
    // Athlete selection via URL: ?player=tucker or ?player=bichette
    const ATHLETES = {
      tucker: {
        key: "tucker",
        name: "Kyle Tucker",
        rate: 1.90258751902588,
        photo: "./tuck.webp",
        background: "./dodgerstadium.jpg",
      },
      bichette: {
        key: "bichette",
        name: "Bo Bichette",
        // 3 years, $126,000,000 over 3 * 365 days
        rate: 1.3318112633181126,
        photo: "./tuck.webp",
        background: "./dodgerstadium.jpg",
      },
    };

    const params = new URLSearchParams(window.location.search);
    const athleteKey = (params.get("player") || "tucker").toLowerCase();
    const athlete = ATHLETES[athleteKey] || ATHLETES.tucker;

    let RATE = athlete.rate;

    const moneyEl = document.getElementById("money");
    const rateTextEl = document.getElementById("rateText");
    const bigTimeEl = document.getElementById("bigTime");
    const pauseBtn = document.getElementById("pauseBtn");
    const resetBtn = document.getElementById("resetBtn");
    const headlineEl = document.getElementById("headline");
    const playerPhotoEl = document.getElementById("playerPhoto");
    const athleteSelectEl = document.getElementById("athleteSelect");
    const purchaseItems = Array.from(document.querySelectorAll('.purchase-item'));
    const affordSentenceEl = document.getElementById('affordSentence');

    athleteSelectEl.value = athlete.key;

    athleteSelectEl.addEventListener('change', () => {
      const newKey = athleteSelectEl.value;
      const url = new URL(window.location.href);
      url.searchParams.set('player', newKey);
      window.location.href = url.toString();
    });

    rateTextEl.textContent = `$${RATE.toLocaleString(undefined, { maximumFractionDigits: 14 })} / second`;

    // Headline + photo/background logic
    headlineEl.textContent = `Since your browser loaded this page, ${athlete.name} will have made this much money under his new contract (before taxes):`;

    if (athlete.key === 'bichette') {
      // Solid background + no photo for Bo Bichette
      document.body.style.background = '#0b1f2a';
      playerPhotoEl.style.display = 'none';
    } else {
      // Default background + photo
      document.body.style.background =
        'linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)), url("./dodgerstadium.jpg") center / cover no-repeat fixed';
      playerPhotoEl.style.display = 'block';
      playerPhotoEl.src = athlete.photo;
      playerPhotoEl.alt = `${athlete.name}, professional baseball player`;
    }

    // State
    let running = true;
    let startPerf = performance.now();   // when this run started
    let accumulatedMs = 0;               // time already earned before current run (for pause/resume)

    const moneyFormatter = new Intl.NumberFormat(undefined, {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2,
      maximumFractionDigits: 2,
    });

    function getElapsedMs() {
      return accumulatedMs + (running ? (performance.now() - startPerf) : 0);
    }

    function formatHMS(totalSeconds) {
      const secondsInt = Math.floor(totalSeconds);
      const hours = Math.floor(secondsInt / 3600);
      const minutes = Math.floor((secondsInt % 3600) / 60);
      const seconds = secondsInt % 60;

      const hh = String(hours).padStart(2, "0");
      const mm = String(minutes).padStart(2, "0");
      const ss = String(seconds).padStart(2, "0");
      return `${hh}:${mm}:${ss}`;
    }

    function tick() {
      const elapsedMs = getElapsedMs();
      const elapsedSeconds = elapsedMs / 1000;

      const secs = Math.floor(elapsedSeconds);
      const unit = secs === 1 ? 'second' : 'seconds';
      affordSentenceEl.textContent = `In the ${secs} ${unit} that you have been visiting this page, ${athlete.name} can now afford a:`;

      const earned = elapsedSeconds * RATE;

      moneyEl.textContent = moneyFormatter.format(earned);
      // Mark items as affordable
      purchaseItems.forEach(item => {
        const price = Number(item.dataset.price);
        if (earned >= price) item.classList.add('afford');
      });

      // Show only the "current" item: the most expensive one he can afford so far
      let currentIndex = 0;
      for (let i = 0; i < purchaseItems.length; i++) {
        const price = Number(purchaseItems[i].dataset.price);
        if (earned >= price) currentIndex = i;
      }

      purchaseItems.forEach((item, i) => {
        if (i === currentIndex) {
          item.style.display = 'block';
          requestAnimationFrame(() => item.classList.add('visible'));
        } else {
          item.classList.remove('visible');
          item.style.display = 'none';
        }
      });

      bigTimeEl.textContent = formatHMS(elapsedSeconds);

      requestAnimationFrame(tick);
    }

    pauseBtn.addEventListener("click", () => {
      if (running) {
        // Pause
        accumulatedMs += performance.now() - startPerf;
        running = false;
        pauseBtn.textContent = "Resume";
      } else {
        // Resume
        startPerf = performance.now();
        running = true;
        pauseBtn.textContent = "Pause";
      }
    });

    resetBtn.addEventListener("click", () => {
      accumulatedMs = 0;
      startPerf = performance.now();
      running = true;
      pauseBtn.textContent = "Pause";
      moneyEl.textContent = moneyFormatter.format(0);
      bigTimeEl.textContent = "00:00:00";
    });

    tick();
  </script>
</body>
</html>